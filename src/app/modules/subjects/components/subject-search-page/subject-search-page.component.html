<div class="container">
    <h1>Búsqueda de asignaturas</h1>
    <div class="row">
        <div class="col-md-8">
            <mat-card>
                <mat-card-title>Escoge el tipo de búsqueda</mat-card-title>
                <mat-card-content>
                    <mat-radio-group
                        class="roleSpacing"
                        aria-label="Escoge tu rol"
                        [(ngModel)]="searchState"
                    >
                        <mat-radio-button value="career" checked="checked">
                            Por carrera
                        </mat-radio-button>
                        <mat-radio-button value="subject">
                            Por código de la materia
                        </mat-radio-button>
                    </mat-radio-group>
                    <br />
                    <div [ngSwitch]="searchState">
                        <mat-form-field
                            appearance="legacy"
                            *ngSwitchCase="'career'"
                        >
                            <mat-select value="">
                                <mat-option value="career1">
                                    Carrera 1
                                </mat-option>
                            </mat-select>
                        </mat-form-field>

                        <mat-form-field *ngSwitchCase="'subject'">
                            <mat-label>Código de la materia</mat-label>
                            <input matInput [(ngModel)]="searchCode" />
                        </mat-form-field>
                    </div>
                    <button
                        mat-raised-button
                        class="searchButton"
                        [disabled]="searchState === ''"
                        (click)="getSubjectByCode()"
                    >
                        Buscar
                    </button>
                </mat-card-content>
            </mat-card>
        </div>
    </div>
    <br />
    <div class="row" *ngIf="foundResult">
        <div class="col-lg-12">
            <mat-accordion class="subject">
                <mat-expansion-panel>
                    <mat-expansion-panel-header>
                        <div style="margin-right: 15px">
                            <h3>{{ subjects.subjectName }}</h3>
                            <p>{{ subjects.subjectCode }}</p>
                            <p>{{ subjects.carrerID }}</p>
                        </div>
                        <div>
                            <p class="credits">{{ subjects.credits }}</p>
                        </div>
                    </mat-expansion-panel-header>
                    <div class="row">
                        <div class="col">
                            <h2 style="margin: 15px 0">Contenido</h2>
                            <p>
                                {{ subjects.curriculum }}
                            </p>
                        </div>
                    </div>
                    <div *ngFor="let group of subjects.groups">
                        <mat-divider></mat-divider>
                        <div class="row">
                            <div class="col">
                                <h3>Grupo 1</h3>
                                <h4>Docente: Adrían Chingaté</h4>
                                <h4>Cupos: 15 / 30</h4>
                                <h4><b>Horarios</b></h4>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <h3>Martes</h3>
                                <p>7 AM - 9 AM</p>
                                <p>Salón 204</p>
                                <p>Edificio 401</p>
                            </div>
                            <div class="col-md-6">
                                <h3>Jueves</h3>
                                <p>7 AM - 9 AM</p>
                                <p>Salón 204</p>
                                <p>Edificio 401</p>
                            </div>
                        </div>
                    </div>
                </mat-expansion-panel>
            </mat-accordion>
        </div>
    </div>
</div>
